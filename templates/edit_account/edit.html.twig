{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} Modifier profil{% endblock %}

{% block editProfilCss %}
    <link rel="stylesheet" href="{{ asset('CSS/editProfil.css') }}">
{% endblock %}

{% block main %}

    <div class="container">

        <h1 class="text-center content-profil">Modifier le profil</h1>

        <div class="d-flex justify-content-around row">

            <div class="col-sm-8 col-lg-3 mb-sm-5 image">
                <img class="profil-picture"
                     src="{{ asset('images/profilePicture/' ~ account.photoName) }}"
                     alt="">
            </div>

            <div class="col-sm-8 col-lg-6 card">

                {{ form_start(form) }}

                <div class="form-group row">
                    {{ form_label(form.pseudo) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.pseudo) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.prenom) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.prenom) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.nom) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.nom) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.telephone) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.telephone) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.email) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.email) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.campus) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.campus) }}
                    </div>
                </div>

                <div class="form-group row">
                    {{ form_label(form.photoFile) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.photoFile) }}
                    </div>
                </div>

                <div class="form-group row">
                    {% if app.user.roles != ["ROLE_ADMIN"] %}
                        {% do form.roles.setRendered %}
                    {% else %}
                        {{ form_label(form.roles) }}
                            <div class="col-sm-12 col-lg-8">
                                {{ form_widget(form.roles) }}
                            </div>
                        {% endif %}
                </div>

                <div class="form-group row">
                        {{ form_label(form.plainPassword.first) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.plainPassword.first) }}
                    </div>
                </div>
                <div class="form-group row">
                        {{ form_label(form.plainPassword.second) }}
                    <div class="col-sm-12 col-lg-8">
                        {{ form_widget(form.plainPassword.second) }}
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-orange">Enregistrer</button>
                    {% if app.user.roles == ["ROLE_ADMIN"] %}
                    <a href="{{ path('compte') }}" class="btn btn-orange">Annuler</a>
                    {% else %}
                        <a href="{{ path('detail', {'id': account.id}) }}" class="btn btn-orange">Annuler</a>
                    {% endif %}
                </div>

                {{ form_rest(form) }}

                {{ form_end(form) }}

            </div>
        </div>

    </div>

{% endblock %}
